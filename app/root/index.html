<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>User Info Demo App</title>
    </head>
 <body>
        Three differnt ways for getting the authenticated user info:
         <!-- <ul>
            TODO: Add the links to each respective method
             <li>1. Directly from the UI (HTML5 app)</li>
                <ul>
                    <li><a href="/user-api/currentUser">1a. Using the <b>/currentUser</b> endpoint</a></li>
                    <li><a href="/user-api/attributes">1b. Using the <b>/attributes</b> endpoint</a></li>
                </ul>
            <li>2. Using the CAP request object</li>
            <li><a href="/user-info/userInfoUAA()">3. Using the XSUAA API</a></li>
            <li> <a href="https://invoice-approval-engine-happy-lizard-ia.cfapps.us10-001.hana.ondemand.com">4.applink</a></li>
        </ul>  -->
        <a id="myLink" href="https://invoice-approval-engine-happy-lizard-ia.cfapps.us10-001.hana.ondemand.com">Link</a>
        <script  type = "module">
                // fetch('https://elipo_backend-agile-crane-rg.cfapps.us10-001.hana.ondemand.com/dev/master?master_id=1&code=404', {
                // method: 'PATCH',
                // headers: {
                //     'Content-Type': 'application/json'
                // },
                // params:{
                //     master_id:1,
                //     code:404
                // },
                // body: JSON.stringify({
                // "code":"1000",
                // "description":"BestRun Germany"
                // })
                // })
                // .then(response => response.json())
                // .then(data => {
                //     // Process the response data
                //     console.log(data);
                // })
                // .catch(error => {
                //     // Handle any errors
                //     console.error('Error:', error);
                // });

            fetch("/user-api/currentUser")
            .then((response) => response.json())
            .then((data) => { 
                console.log(data) 
                localStorage.setItem("1",JSON.stringify(data))
            })

            //   Get the link element by its ID
             var linkElement = document.getElementById('myLink');

                // Simulate a click event on the link
             linkElement.click()


        </script>
    </body>
</html>